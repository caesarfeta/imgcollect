<%# config %>
<% img_keys = [ :path, :thumb, :basic, :advanced ] %>
<% top_times = [ :created ] %>
<% editable = [ :name, :image_description, :keywords ] %>
<% first = [ :urn, :name, :image_description, :keywords ] %>
<% row_times = [ :date_time ] %>
<% ignore = [ :edited, :width, :height ] + img_keys + top_times + first %>

<%# now begins the markup %>
<div class="image-full">
	<div class="display">
		<img src="<%= imgSrc(@img[:basic]) %>" />
		<div class="metadata">
			
			<%# different image sizes %>
			<div class="size">
				<% img_keys.each do |key| %>
				<a class="button tiny dark" href="<%= imgSrc(@img[key]) %>">
					<%= "#{key.capitalize} #{dimensions(key,@img[:width],@img[:height])}" %>
				</a>
				<% end %>
			</div>
			
			<%# creation and edit times %>
			<div class="times">
				<% top_times.each do |key| %>
				<%= render "shared/timestamp", :locals => { :time => @img[key], :label => key.to_s.capitalize } %>
				<% end %>
			</div>
			
			<%# values table %>
			<div class="values">
				<table>
					
					<%# first values %>
					<% first.each do |key| %>
						<%= render "image/row", :locals => { :key => key, :val => @img[key], :editable => editable, :row_times => row_times } %>
					<% end %>
					
					<%# all the other values %>
					<% @img.sort.map do |key,val| %>
					<% if ignore.include?(key) == false %>
						<%= render "image/row", :locals => { :key => key, :val => val, :editable => editable, :row_times => row_times } %>
					<% end %>
					<% end %>
					
				</table>
			</div>
			
		</div>
	</div>
	<div class="clearfix"></div>
</div>